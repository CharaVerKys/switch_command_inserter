# switch_command_inserter
Project's source repository


## Программа умеет кастомно определять коммутаторы в сети и отправлять на них набор команд.
### Альтернативное использование - ввести набор айпи и отправить на них набор команд (без определения моделей).
Настраивается через конфигурационные файлы.

Реализовано логирование и используется стабильная реализация выполнения команд *(если что-то сломается в программе то крайне маловероятно вызовет полное падение, скорее только 1 хост)*

Инструкция по установке: 
1. Cкачать [исполняемый файл](https://github.com/CharaVerKys/switch_command_inserter/releases/v0.9) и закинуть в произвольную пустую дирикторию.
2. Дать файлу права на исполнение

## Quick start:
   ### script:
1. запустить приложение `./swcmdins`
2. в `configs/perModel_doCommands.conf` выставить регулярку модели совпадаю с script (`script`|`sc`|`.*`) и команды которые хотите выполнить
3. проверить на всякий случай работу программы на одном коммутаторе выполнив следующие 4 пункта для одного ip
4. зайти в `configs/scriptIp.list` и вставить туда свой набор ip для обработки
5. запустить с глаголом `script` или `scripTELN` (можно по очереди чтобы одновременно обработать оба протокола)
6. запустить с глаголом commit (`./swcmdins/commit`)
7. посмотреть результат работы в логах (основные логи находятся в корне)
---
   ### entire:
1. запустить приложение `./swcmdins`
2. в `configs/network.conf` установить необходимую подсеть, логин/пароль (ограничено количеством попыток на вход в ваших коммутаторах, не рекомендуется больше 3), опционально установить игнорируемые хосты
3. запустить с глаголом `scan`
4. придумать набор необходимых условий для определения модели коммутатора (это может быть например expect `cisco 2950` команды `show run`)
То есть можно токно настроить это.
Записать конфигурацию в файл `configs/perCommands_findModel.conf`
Можно использовать уже сделанную конфигурацию для коммутаторов (в будующем сделаю список с конфигурациями)
5. запустить с глаголом `identify`
6. в `configs/perModel_doCommands.conf` выставить регулярку модели, где то что было выставленно в `perCommands_findModel.conf` является полным именем коммутатора
7. запустить с глаголом `commit`
8. посмотреть результат работы в логах (основные логи находятся в корне)

Документация[(click)](/docs/main.md).

Если нашли ошибку, или программа не работает с вашим коммутатором - пишите мне.
Кидайте сразу лог и описывайте ситуацию в которой она происходит
Это первый мой проект, могут быть ошибки в проектировани и вообще.
telegram: [@Chara_VerKys](https://t.me/Chara_VerKys)
